"use strict";if("undefined"!=typeof module&&module.hasOwnProperty("exports"))var RationalNumber=require("./RationalNumber-base.js");RationalNumber.prototype.abs=function(){return this.clone().setSign("+")},RationalNumber.prototype.invert=function(){var t=this._n;return this._n=this._d,this._d=t,this},RationalNumber.prototype.getInversion=function(){var t=this.getNumerator(),e=this.getDenominator();return new RationalNumber(e,t)},RationalNumber.prototype.inversion=RationalNumber.prototype.getInversion,RationalNumber.prototype.negate=function(){return this._s=-this._s,this},RationalNumber.prototype.getNegation=function(){return this.clone().negate()},RationalNumber.prototype.addTo=function(){var t,e,r,n,a,s;if(1===arguments.length&&arguments[0]instanceof Array)return this.addTo.apply(this,arguments[0]),this;for(var u=0;arguments.length>u;u++){if(t=this.getNumerator(),n=this.getDenominator(),"string"==typeof arguments[u]){var i=arguments[u].match(/([+-]?\d+)[-+ _](\d+)\/(\d+)/);i?(e=parseInt(i[2]),a=parseInt(i[3]),e+=a*parseInt(i[1])):(i=arguments[u].match(/(-?\d+)\/(\d+)/),i?(e=parseInt(i[1]),a=parseInt(i[2])):(e=parseInt(arguments[u])||0,a=1))}else if("number"==typeof arguments[u])e=arguments[u]?parseInt(arguments[u]):0,a=1;else{if(!("object"==typeof arguments[u]&&this instanceof RationalNumber))continue;e=arguments[u].getNumerator(),a=arguments[u].getDenominator()}if(0===n&&0===a&&0>t&&e>0)return this.setValue(0,0);if(0===n&&0===a&&t>0&&0>e)return this.setValue(0,0);if(0===n&&0===t)return this.setValue(0,0);if(0===a&&0===e)return this.setValue(0,0);if(0===n||0===a)return this.setValue(1,0);r=t*a+n*e,s=n*a,this.setValue(r,s)}return this},RationalNumber.prototype.add=function(){return RationalNumber.prototype.addTo.apply(this.clone(),arguments)},RationalNumber.prototype.subtractTo=function(){var t,e,r,n,a,s;if(1===arguments.length&&arguments[0]instanceof Array)return this.subtractTo.apply(this,arguments[0]),this;for(var u=0;arguments.length>u;u++){if(t=this.getNumerator(),n=this.getDenominator(),"string"==typeof arguments[u]){var i=arguments[u].match(/([+-]?\d+)[-+ _](\d+)\/(\d+)/);i?(e=parseInt(i[2]),a=parseInt(i[3]),e+=a*parseInt(i[1])):(i=arguments[u].match(/(-?\d+)\/(\d+)/),i?(e=parseInt(i[1]),a=parseInt(i[2])):(e=parseInt(arguments[u])||0,a=1))}else if("number"==typeof arguments[u])e=arguments[u]?parseInt(arguments[u]):0,a=1;else{if(!("object"==typeof arguments[u]&&this instanceof RationalNumber))continue;e=arguments[u].getNumerator(),a=arguments[u].getDenominator()}if(0===n&&0===a&&0>t&&0>e)return this.setValue(0,0);if(0===n&&0===a&&t>0&&e>0)return this.setValue(0,0);if(0===n&&0===t)return this.setValue(0,0);if(0===a&&0===e)return this.setValue(0,0);if(0===n||0===a)return this.setValue(1,0);r=t*a-n*e,s=n*a,this.setValue(r,s)}return this},RationalNumber.prototype.subtract=function(){return RationalNumber.prototype.subtractTo.apply(this.clone(),arguments)},RationalNumber.prototype.multiplyTo=function(){var t,e,r,n,a,s;if(1===arguments.length&&arguments[0]instanceof Array)return this.multiplyTo.apply(this,arguments[0]),this;for(var u=0;arguments.length>u;u++){if(t=this.getNumerator(),n=this.getDenominator(),"string"==typeof arguments[u]){var i=arguments[u].match(/([+-]?\d+)[-+ _](\d+)\/(\d+)/);i?(e=parseInt(i[2]),a=parseInt(i[3]),e+=a*parseInt(i[1])):(i=arguments[u].match(/(-?\d+)\/(\d+)/),i?(e=parseInt(i[1]),a=parseInt(i[2])):(e=parseInt(arguments[u])||0,a=1))}else if("number"==typeof arguments[u])e=arguments[u]?parseInt(arguments[u]):0,a=1;else{if(!("object"==typeof arguments[u]&&this instanceof RationalNumber))continue;e=arguments[u].getNumerator(),a=arguments[u].getDenominator()}if(!(0!==t&&0!==e||0!==n&&0!==a))return this.setValue(0,0);if(0===n||0===a)return 0>t&&0>e?this.setValue(1,0):t>=0&&e>=0?this.setValue(1,0):this.setValue(-1,0);r=t*e,s=n*a,this.setValue(r,s)}return this},RationalNumber.prototype.multiply=function(){return RationalNumber.prototype.multiplyTo.apply(this.clone(),arguments)},RationalNumber.prototype.divideTo=function(){var t,e,r,n,a,s;if(1===arguments.length&&arguments[0]instanceof Array)return this.divideTo.apply(this,arguments[0]),this;for(var u=0;arguments.length>u;u++){if(t=this.getNumerator(),n=this.getDenominator(),"string"==typeof arguments[u]){var i=arguments[u].match(/([+-]?\d+)[-+ _](\d+)\/(\d+)/);i?(e=parseInt(i[2]),a=parseInt(i[3]),e+=a*parseInt(i[1])):(i=arguments[u].match(/(-?\d+)\/(\d+)/),i?(e=parseInt(i[1]),a=parseInt(i[2])):(e=parseInt(arguments[u])||0,a=1))}else if("number"==typeof arguments[u])e=arguments[u]?parseInt(arguments[u]):0,a=1;else{if(!("object"==typeof arguments[u]&&this instanceof RationalNumber))continue;e=arguments[u].getNumerator(),a=arguments[u].getDenominator()}if(0===n&&0===t)return this.setValue(0,0);if(0===a&&0===e)return this.setValue(0,0);if(0===n&&0===e)return this.setValue(0,0);if(0===t&&0===a)return this.setValue(0,0);r=t*a,s=n*e,this.setValue(r,s)}return this},RationalNumber.prototype.divide=function(){return RationalNumber.prototype.divideTo.apply(this.clone(),arguments)},"undefined"!=typeof module&&module.hasOwnProperty("exports")&&(module.exports=RationalNumber);